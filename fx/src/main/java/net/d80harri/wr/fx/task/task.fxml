<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.net.*?>
<?import java.util.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.input.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.MenuButton?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.ContextMenu?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.Border?>
<?import javafx.scene.layout.Background?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.control.ScrollPane?>

<AnchorPane id="AnchorPane" AnchorPane.leftAnchor="0.0" 
	AnchorPane.rightAnchor="0.0" styleClass="airpad" xmlns="http://javafx.com/javafx/8"
	xmlns:fx="http://javafx.com/fxml/1" fx:controller="net.d80harri.wr.fx.task.TaskPresenter"
	fx:id="ctlContainer">

	<VBox AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
		<AnchorPane id="dragBoxContainer">
			<BorderPane onDragOver="#setDragBoxVisible"
				AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0">
				<left>
					<Button fx:id="ctlMenuButton" onAction="#showPopupMenu"
						onDragDetected="#taskDragDetected"
						onDragDone="#taskDragDone">
						<graphic>
							<ImageView fitHeight="20" fitWidth="20">
								<image>
									<Image url="file:src\main\resources\icons\drag.png" />
								</image>
							</ImageView>
						</graphic>
					</Button>
				</left>
				<center>
					<TextField fx:id="ctlTaskTitle" id="title"
						promptText="What do you want to do?" />
				</center>
			</BorderPane>
			<AnchorPane fx:id="ctlDragBox" id="dragBox" 
				AnchorPane.leftAnchor="-1.0" AnchorPane.rightAnchor="-1.0" AnchorPane.topAnchor="-1.0" AnchorPane.bottomAnchor="-1.0"
				visible="false"
				onDragExited="#setDragBoxInvisible">
				<Pane id="before" fx:id="ctlBeforeDragBox" prefHeight="15" prefWidth="100" 
					onDragOver="#dragOverOnDragBoxItem"
					onDragExited="#dragExitOnDragBoxItem"
					onDragDropped="#dragDroppedOnDragBoxItem"/>
				<Pane id="after" fx:id="ctlAfterDragBox" prefHeight="15" prefWidth="100"
					AnchorPane.bottomAnchor="0" 
					onDragOver="#dragOverOnDragBoxItem"
					onDragExited="#dragExitOnDragBoxItem"
					onDragDropped="#dragDroppedOnDragBoxItem"/>
				<Pane id="child" fx:id="ctlChildDragBox" AnchorPane.leftAnchor="100"
					AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0"
					AnchorPane.bottomAnchor="0" 
					onDragOver="#dragOverOnDragBoxItem"
					onDragExited="#dragExitOnDragBoxItem"
					onDragDropped="#dragDroppedOnDragBoxItem"/>
			</AnchorPane>
		</AnchorPane>
		<AnchorPane fx:id="ctlSubtaskList" id="subTaskList"
			prefHeight="0" />
	</VBox>

	<AnchorPane id="invisibleContainer" maxWidth="0" maxHeight="0"
		visible="false" managed="false">
		<VBox id="popupContent" fx:id="ctlPopupContent">
			<Button text="Add child" onAction="#addChild" id="addChild"
				maxWidth="Infinity" />
			<Button text="Debug" onAction="#debug" maxWidth="Infinity" />
		</VBox>
	</AnchorPane>

</AnchorPane>
